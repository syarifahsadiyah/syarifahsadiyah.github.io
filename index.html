<!Doctype: HTML w/ Processing>

<html>

  <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>R I B B O N</title>
      <script type="text/javascript" src="js/processing.js"></script>
  </head>
  
  <body>
    
    <script type="text/processing">
    
    //I made this as a way to play with typography in a new way. It´s a bit challenging to draw with this,
//but that´s also why it is fun, and why you end up with new unexpected results which can give you new ideas. 


import processing.pdf.*;

float[] x = new float[250]; //says x is a float, how many segments, needs to be the same value as y
float[] y = new float[250]; //says y is a float, how many segments, needs to be the same value as x
float segLength = 3; //length of the segments, not the amount
int dim;

boolean record;

void setup() {
  size(800, 800); 
  record = false; //so it doesn´t record until you press space
}

void draw() {
  //if you press space it records one frame
  if (record) 
  {
    beginRecord(PDF, "snake-####.pdf");
  }
  background(255, 220, 220); //light pink
  strokeWeight(5); //thickness of line
  stroke(0); //dark blue

  dragSegment(0, mouseX, mouseY); //the segment follows the mouse


  //makes sure the snakey thing follows the mouse but has a set length
  //length-1 decides how short the line is, the higher the number, the sooner it stops drawing it

  for (int i=0; i<x.length- 1; i++) { 
    dragSegment(i+ 1, x[i], y[i]);
  }

  if (record)
  {
    record = false;
    endRecord();
  }
}

void dragSegment(int i, float xin, float yin) {
  float dx = xin - x[i];
  float dy = yin - y[i];
  float angle = atan2(dy, dx);  //calculates the angle
  x[i] = xin - cos(angle) * segLength; //the angle between the segments
  y[i] = yin - sin(angle) * segLength;
  segment(x[i], y[i], angle);
}

void segment(float x, float y, float a) { 
  pushMatrix(); //takes it out into another dimension, turns it around, and puts it back in with popmatrix
  translate(x, y);
  rotate(a);
  line(0, 0, segLength, 0);
  popMatrix();
}

void keyPressed() {
  record = true; //makes everything defined further up happen
}

//A segmented line follows the mouse. The relative angle from each segment to the next 
//is calculated with atan2() and the position of the next is calculated with sin() and 
//cos().

    </script>
    <canvas id="sketch" style="border: 1px solid black;"></canvas>
    
  </body>
  
</html>
